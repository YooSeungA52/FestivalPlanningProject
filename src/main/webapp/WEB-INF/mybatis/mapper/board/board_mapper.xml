<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
						"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="board_mapper">

	<!-- 신청 양식 작성 -->
	<insert id="insert"> 
		INSERT INTO FESTIVAL_FORM
		(FNO, PLACE, FESTIVAL_NAME, ADDRESS_EVENT, Number_of_people, carrying_difficulty,
		start_date ,end_date, budget_range , commissioning_agency, name)
		VALUES(FESTIVAL_FORM_SEQ.NEXTVAL, #{place}, #{festivalName}, #{addressEvent}, 
		#{numberOfPeople}, #{carryingDifficulty} ,#{startDate}, #{endDate}, #{budgetRange}, 
		#{commissioningAgency}, #{name})
	</insert>
	
	
	<!-- 신청 양식 리스트 (전체 불러오기)-->
	<select id="list" resultType="com.fpp.dto.board.FormDto">
		SELECT FNO, PLACE, FESTIVAL_NAME, ADDRESS_EVENT, Number_of_people, carrying_difficulty, 
		start_date ,end_date, budget_range , commissioning_agency, name
		FROM FESTIVAL_FORM  ORDER BY FNO DESC
	</select>
	
	
	<!-- 신청 양식 번호로 읽기 (번호로만 불러오기) -->
	<select id="read" parameterType="int" resultType="com.fpp.dto.board.FormDto"> 
		SELECT FNO, PLACE, FESTIVAL_NAME, ADDRESS_EVENT, Number_of_people, carrying_difficulty, 
		start_date ,end_date, budget_range , commissioning_agency, name 
		FROM FESTIVAL_FORM WHERE FNO = #{fno}
	</select>
	
	<!-- 신청 양식 수정 -->
	<update id="update" parameterType="com.fpp.dto.board.FormDto"> 
		UPDATE FESTIVAL_FORM SET
		
		FESTIVAL_NAME = #{festivalName},
		ADDRESS_EVENT = #{addressEvent}, 
		
		start_date = #{startDate}, 
		end_date = #{endDate}, 
		
		commissioning_agency = #{commissioningAgency}, 
		name = #{name} 
		WHERE FNO = #{fno}
	</update>

	<!-- 신청 양식 삭제 -->
	<delete id="delete" parameterType="int">
		DELETE 
		FROM FESTIVAL_FORM
		WHERE FNO = #{fno}
	</delete>
	
</mapper>